<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap core CSS -->
    <link href="../css/bootstrap.css" rel="stylesheet">
    <link href="../css/admin.css" rel="stylesheet">
</head>
<body>

<!-- Loading overlay modal. -->
<!--<div id="loading" class="modal" data-backdrop="static" data-keyboard="false">-->
<div id="loading" class="modal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4>Loading...</h4>
            </div>
            <div class="modal-footer">

            </div>
        </div>
    </div>
</div>

<!-- Error overlay modal. -->
<!--<div id="error-alert" class="alert alert-danger fade in" role="alert">-->
    <!--<button type="button" class="close" data-dismiss="alert" aria-label="Close">-->
        <!--<span aria-hidden="true">&times;</span></button>-->
    <!--<p></p>-->
<!--</div>-->

<!-- Navigation top bar. -->
<nav class="navbar navbar-default navbar-fixed-top">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar"
                    aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="javascript:void(0);">Xinli Portal Server</a>
            <!--<a class="navbar-brand navbar-path" href="javascript:void(0);">Dashboard</a>-->
            <span class="navbar-brand hidden-sm hidden-lg hidden-md" href="javascript:void(0);">Dashboard</span>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
                <li id="navbar-dashboard" class="active">
                    <a href="javascript:void(0);" onclick="$.application.switchTo('Dashboard');">
                        <span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span>
                        Dashboard
                    </a>
                </li>
                <li id="navbar-configuration" >
                    <a href="javascript:void(0);" onclick="$.application.switchTo('Configuration');">
                    <!--<a aria-label="Left Align" href="#">-->
                        <span class="glyphicon glyphicon-cog" aria-hidden="true"></span>
                        Configuration
                    </a>
                </li>
                <li id="navbar-management" >
                    <a href="javascript:void(0);" onclick="$.application.switchTo('Management');">
                    <!--<a aria-label="Left Align" href="#">-->
                        <span class="glyphicon glyphicon-wrench" aria-hidden="true"></span>
                        Management
                    </a>
                </li>
                <li>
                    <a class="loading-outer">
                    <div id="loading-spin" class="collapse">
                    </div>
                    </a>
                </li>
            </ul>
        </div><!--/.nav-collapse -->
    </div>
</nav>

<!-- Login modal dialog. -->
<!--<div id="login-dialog" class="modal fade" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false">-->
<div id="login-dialog" class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <!--<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span-->
                <!--aria-hidden="true">&times;</span></button>-->
                <h4 class="modal-title">Login Required</h4>
            </div>
            <div class="modal-body">
                <form id="login-form">
                    <div class="form-group">
                        <label for="login-username" class="control-label">Username:</label>
                        <input type="text" id="login-username" name="username" value="admin"
                               class="form-control" placeholder="Username" data-toggle="tooltip" data-container="body"
                               data-title="Username can not be empty."/>
                    </div>
                    <div class="form-group">
                        <label for="login-password" class="control-label">Password:</label>
                        <input id="login-password" name="password" type="password" value="s3cr3t"
                               class="form-control" placeholder="Password"
                               data-toggle="tooltip" data-container="body"
                               data-title="Password can not be empty."/>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button id="login" type="button" class="btn btn-primary" style="width: 200px;">Login</button>
            </div>
        </div>
    </div>
</div>

<!-- NAS Device dialog. -->
<div id="nas-dialog" class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title"></h4>
            </div>
            <div class="modal-body">
                <form id="nas-form">
                    <div class="form-group">
                        <label for="nas-name" class="control-label">NAS Name:</label>
                        <input type="text" id="nas-name" name="nas-name"
                               class="form-control" placeholder="NAS name" data-toggle="tooltip" data-container="body"
                               data-title="NAS name can not be empty."/>
                    </div>
                    <div class="form-group">
                        <label for="nas-type" class="control-label">NAS Type:</label>
                        <select id="nas-type" class="form-control" onchange="$.portal.configuration.changeNasType(this);">
                            <option>HUAWEI</option>
                            <option>CMCC</option>
                            <option>RADIUS</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="nas-ipv4" class="control-label">IPv4 Address:</label>
                        <input id="nas-ipv4" name="nas-ipv4"
                               class="form-control" placeholder="IPv4 Address"
                               data-toggle="tooltip" data-container="body"/>
                    </div>
                    <div class="form-group">
                        <label for="nas-ipv6" class="control-label">IPv6 Address:</label>
                        <input id="nas-ipv6" name="nas-ipv4"
                               class="form-control" placeholder="IPv6 Address"
                               data-toggle="tooltip" data-container="body"/>
                    </div>
                    <div class="form-group">
                        <div class="checkbox">
                            <label>
                                <input type="checkbox" id="nas-auth-with-domain" name="nas-auth-with-domain">Authenticate with domain
                            </label>
                        </div>
                    </div>

                    <!-- HUAWEI specific content. -->
                    <div class="form-group huawei collapse">
                        <label for="huawei-nas-shared-secret" class="control-label">Shared secret</label>
                        <input id="huawei-nas-shared-secret" name="shared_secret"
                               class="form-control" placeholder="shared secret"
                               data-toggle="tooltip" data-container="body"/>
                    </div>

                    <div class="form-group huawei collapse">
                        <label for="huawei-nas-listen-port" class="control-label">Listen Port</label>
                        <input id="huawei-nas-listen-port" name="huawei-nas-listen-port"
                               class="form-control" placeholder="shared secret"
                               data-toggle="tooltip" data-container="body"/>
                    </div>

                    <div class="form-group huawei collapse">
                        <label for="huawei-nas-auth-type" class="control-label">Authentication Type</label>
                        <select id="huawei-nas-auth-type" name="huawei-nas-auth-type">
                            <option>CHAP</option>
                            <option>PAP</option>
                        </select>
                    </div>

                    <div class="form-group huawei collapse">
                        <label for="huawei-nas-version" class="control-label">Version</label>
                        <select id="huawei-nas-version" name="huawei-nas-version">
                            <option>V1</option>
                            <option>V2</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <button id="nas-open-translation" type="button" class="btn btn-default" aria-label="Left Align"
                                onclick="$.portal.configuration.openTranslation();">
                            <span class="glyphicon glyphicon-edit" aria-hidden="true"></span> Edit Translation
                        </button>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button id="delete-nas" type="button" class="btn btn-danger" aria-label="Left Align" style="width: 150px; margin-right: 200px;">
                    <span class="glyphicon glyphicon-trash" aria-hidden="true" style="padding-right: 8px;"></span>Delete
                </button>
                <button id="save-nas" type="button" class="btn btn-primary" aria-label="Left Align" style="width: 150px;">
                    <span class="glyphicon glyphicon-save" aria-hidden="true" style="padding-right: 8px;"></span>Save
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Activity dialog. -->

<div id="activity-dialog" class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title"></h4>
            </div>
            <div class="modal-body">
                <form>
                    <div class="form-group">
                        <label for="activity-facility" class="control-label">Facility</label>
                        <input id="activity-facility" type="text" class="form-control" />
                    </div>
                </form>

                <form>
                    <div class="form-group">
                        <label for="activity-severity" class="control-label">Severity</label>
                        <input id="activity-severity" type="text" class="form-control" />
                    </div>
                </form>

                <form>
                    <div class="form-group">
                        <label for="activity-remote" class="control-label">Remote</label>
                        <input id="activity-remote" type="text" class="form-control" />
                    </div>
                </form>

                <form>
                    <div class="form-group">
                        <label for="activity-source" class="control-label">Source</label>
                        <input id="activity-source" type="text" class="form-control" />
                    </div>
                </form>

                <form>
                    <div class="form-group">
                        <label for="activity-sourceInfo" class="control-label">Source Information</label>
                        <input id="activity-sourceInfo" type="text" class="form-control" />
                    </div>
                </form>

                <form>
                    <div class="form-group">
                        <label for="activity-action" class="control-label">Action</label>
                        <input id="activity-action" type="text" class="form-control" />
                    </div>
                </form>

                <form>
                    <div class="form-group">
                        <label for="activity-result" class="control-label">Result</label>
                        <input id="activity-result" type="text" class="form-control" />
                    </div>
                </form>

                <form>
                    <div class="form-group">
                        <label for="activity-date" class="control-label">Created at</label>
                        <input id="activity-date" type="text" class="form-control" />
                    </div>
                </form>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-primary" aria-label="Left Align" onclick="$('#activity-dialog').modal('hide');">
                    Close
                </button>
            </div>
        </div>
    </div>
</div>

<div class="doc">
    <div class="container">
        <div class="row">
            <!-- navigation sidebar. -->
            <div id="nav-sidebar" class="col-md-3">
                <!-- configuration navigation. -->
                <nav id="nav-configuration" class="sidebar-content collapse">
                    <ul class="nav">
                        <li class="active">
                            <a id="sidebar-nas" href="javascript:void(0);" onclick="$.portal.configuration.switchTo('nas');">
                                NAS<span class="badge">0</span>
                            </a>
                        </li>
                        <li>
                            <a id="sidebar-system" href="javascript:void(0);" onclick="$.portal.configuration.switchTo('system');">
                                System</a>
                        </li>
                    </ul>
                </nav>

                <!-- management navigation. -->
                <nav id="nav-management" class="sidebar-content collapse">
                    <ul class="nav">
                        <li class="active">
                            <a id="sidebar-session" href="javascript:void(0);">
                                Session<span class="badge">0</span>
                            </a>
                        </li>
                        <li>
                            <a id="sidebar-activity" href="javascript:void(0);">
                                Activity<span class="badge">0</span>
                            </a>
                        </li>
                    </ul>
                </nav>
            </div>

            <!-- Dashboard. -->
            <div id="dashboard" class="col-md-9">
            </div>

            <!-- Configurations. -->
            <div id="configuration" class="col-md-9 collapse">
                <!-- NAS configuration, content. -->
                <div id="configuration-nas" class="module-content">
                    <div class="row bottom-spacing">
                        <div class="col-md-3">
                            <button type="button" class="btn btn-default" onclick="$.portal.configuration.createNas();">
                                <span class="glyphicon glyphicon-plus" aria-hidden="true" style="padding-right: 8px;"></span>
                                Add new NAS Device
                            </button>
                        </div>
                        <div id="configuration-nas-search" class="col-md-9">
                            <div class="input-group">
                                <input id="nas-search" type="text" class="form-control" placeholder="Search for...">
                                <span class="input-group-btn">
                                    <button id="nas-search-btn" class="btn btn-danger" type="button" aria-label="Left Align">
                                        <span class="glyphicon glyphicon-search" aria-hidden="true" style="padding-right: 8px;"></span>Search
                                    </button>
                                </span>
                            </div><!-- /input-group -->
                        </div><!-- /.col-lg-6 -->
                    </div><!-- /.row -->

                    <!-- NAS device list. -->
                    <div class="row">
                        <div class="col-md-12">
                            <h4>
                                <!--<span class="glyphicon glyphicon-info-sign"></span>-->
                                Click&nbsp;<span class="glyphicon glyphicon-search"></span>
                                &nbsp;Search to display NAS device list.
                            </h4>
                        </div>
                    </div>
                    <div class="row bottom-spacing">
                        <div>
                            <table class="table table-bordered table-striped">
                                <thead>
                                <tr>
                                    <th>id</th>
                                    <th>name</th>
                                    <th>type</th>
                                    <th>ip</th>
                                    <th>actions</th>
                                </tr>
                                </thead>
                                <tbody>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- System configuration, content. -->
                <div id="configuration-system" class="module-content collapse">
                    <div class="form-group">
                        <label for="private-key" class="control-label">Server Private Key</label>
                        <input type="text" id="private-key" name="private-key"
                               class="form-control" placeholder="server private key" data-toggle="tooltip" data-container="body"
                               data-title="server private key can not be empty."/>
                        <div class="checkbox">
                            <label>
                                <input type="checkbox" id="server-allow-nat" name="allow-nat">
                                Allow user login in NATed environment
                            </label>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="checkbox">
                            <label>
                                <input type="checkbox" id="enable-session-ttl" name="enable-session-ttl">
                                Enable session TTL. (if enabled, session while be removed when TTL reached)
                            </label>
                        </div>
                        <label for="private-key" class="control-label">Session TTL (seconds)</label>
                        <input type="text" id="session-ttl-value" name="session-ttl-value"
                               class="form-control" placeholder="ttl in seconds" data-toggle="tooltip" data-container="body"
                               data-title="Username can not be empty."/>
                    </div>
                </div>
            </div>

            <!-- Management. -->
            <div id="management" class="col-md-9 collapse">
                <!-- Session management, content. -->
                <div id="management-session" class="module-content">
                    <div class="row bottom-spacing">
                        <div>
                            <div class="input-group">
                                <input id="session-search" type="text" class="form-control" placeholder="Search for...">
                                <span class="input-group-btn">
                                    <button id="session-search-btn" class="btn btn-danger" type="button">
                                        <span class="glyphicon glyphicon-search" aria-hidden="true" style="padding-right: 8px;"></span>Search
                                    </button>
                                </span>
                            </div><!-- /input-group -->
                        </div><!-- /.col-lg-6 -->
                    </div><!-- /.row -->

                    <div class="row">
                        <div class="col-md-12">
                            <h4>
                                <!--<span class="glyphicon glyphicon-info-sign"></span>-->
                                Click&nbsp;<span class="glyphicon glyphicon-search"></span>
                                &nbsp;Search to display session list.
                            </h4>
                        </div>
                    </div>
                    <div class="row bottom-spacing">
                        <div>
                            <table class="table table-bordered table-striped">
                                <thead>
                                    <tr>
                                        <th>id</th>
                                        <th>NAS</th>
                                        <th>username</th>
                                        <th>ip</th>
                                        <th>mac</th>
                                        <th>start time</th>
                                        <th>action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!--<tr>-->
                                        <!--<td>102</td>-->
                                        <!--<td>nas-001</td>-->
                                        <!--<td>foobar1</td>-->
                                        <!--<td>2016-3-20 22:00:00</td>-->
                                        <!--<td>-->
                                            <!--<button type="button" class="btn btn-danger">-->
                                                <!--<span class="glyphicon glyphicon-remove" aria-hidden="true" style="padding-right: 8px;"></span>-->
                                                <!--Stop-->
                                            <!--</button>-->
                                        <!--</td>-->
                                    <!--</tr>-->
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div id="no-session" class="row collapse">
                        <div class="col-md-12">
                            <h4>No Session found.</h4>
                        </div>
                    </div>
                </div>

                <!-- Activity management, content. -->
                <div id="management-activity" class="module-content collapse">
                    <div class="row bottom-spacing">
                        <div>
                            <div class="input-group">
                                <input id="activity-search" type="text" class="form-control" placeholder="Search for...">
                                <span class="input-group-btn">
                                    <button id="activity-search-btn" class="btn btn-danger" type="button">
                                        <span class="glyphicon glyphicon-search" aria-hidden="true" style="padding-right: 8px;"></span>Search
                                    </button>
                                </span>
                            </div><!-- /input-group -->
                        </div><!-- /.col-lg-6 -->
                    </div><!-- /.row -->

                    <div class="row">
                        <div class="col-md-12">
                            <h4>
                                <!--<span class="glyphicon glyphicon-info-sign"></span>-->
                                Click&nbsp;<span class="glyphicon glyphicon-search"></span>
                                &nbsp;Search to display session list.
                            </h4>
                        </div>
                    </div>
                    <div class="row bottom-spacing">
                        <div>
                            <table class="table table-bordered table-striped">
                                <thead>
                                    <tr>
                                        <th>id</th>
                                        <th>Facility</th>
                                        <th>Severity</th>
                                        <th>remote</th>
                                        <th>source</th>
                                        <th>source info</th>
                                        <th>action</th>
                                        <th>created</th>
                                        <th>actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div id="no-activity" class="row collapse">
                        <div class="col-md-12">
                            <h4>No Activity found.</h4>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Loading indicator. -->
        </div>
    </div>
</div> <!-- /container -->

<!-- Placed at the end of the document so the pages load faster -->
<script src="../js/jquery-2.2.1.js"></script>
<script src="../js/bootstrap.js"></script>
<script src="../js/utils.js"></script>
<script src="../js/md5.js"></script>
<script src="../js/logging.js"></script>
<script src="../js/portal/portal.js"></script>
<script src="../js/portal/connector.js"></script>
<script src="../js/portal/login.js"></script>
<script src="../js/portal/configuration.js"></script>
<script src="../js/portal/management.js"></script>
<script src="../js/portal/application.js"></script>

<script type="text/javascript">
    $(document).ready(function () {
//        $('#configuration').find('.module-nav').affix(15);
//        $('#management').find('.module-nav').affix(15);
//        $('#configuration-nas-search').affix();

        /*
         * Configuration page scripts.
         */
        $('#sidebar-nas').click(function () {
            $.application.load({
                function: $.portal.configuration.switchTo,
                object: $.portal.configuration,
                args: 'nas'
            });
        });

        $('#sidebar-system').click(function () {
            $.application.load({
                function: $.portal.configuration.switchTo,
                object: $.portal.configuration,
                args: 'system'
            });
        });

        $('#nas-search-btn').click(function () {
            $.application.load({
                function: $.portal.configuration.searchNasDevices,
                object: $.portal.configuration,
                args: $('#nas-search').val()
            });
        });

        $('#delete-nas').click(function () {
            $.portal.configuration.deleteNas($(this).data('nas'));
        });

        /*
         * Management page scripts.
         */
        $('#sidebar-session').click(function () {
            $.application.load({
                function: $.portal.management.switchTo,
                object: $.portal.management,
                args: 'session'
            });
        });

        $('#sidebar-activity').click(function () {
            $.application.load({
                function: $.portal.management.switchTo,
                object: $.portal.management,
                args: 'activity'
            });
        });

        $('#session-search-btn').click(function () {
            $.application.load({
                function: $.portal.management.searchSessions,
                object: $.portal.management,
                args: $('#session-search').val()
            });
        });

        /*
         * Application scripts.
         */
        $('#login').click(function () {
            $.application.login($('#login-dialog'));
        });

        $.application.init();
    });
</script>
</body>
</html>